<!doctype html>
<!-- 
  Tarea: T28 - Responsable: Leonardo Chavez - Descripción: Login social, gestión de sesiones y seguridad avanzada.
-->
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mink'a - Autenticación</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <!-- Arquitectura CSS modular -->
    <link rel="stylesheet" href="./assets/styles/base.css" />
    <link rel="stylesheet" href="./assets/styles/components.css" />
    <link rel="stylesheet" href="./assets/styles/layout.css" />
    <link rel="stylesheet" href="./assets/styles/pages/auth.css" />
    <link rel="stylesheet" href="./assets/styles/pages/auth-advanced.css" />
    <link rel="stylesheet" href="./assets/styles/responsive.css" />
    <!-- Scripts core -->
    <script defer src="./assets/scripts/core/translations.js"></script>
    <script defer src="./assets/scripts/core/i18n.js"></script>
  </head>
  <body class="auth-page">
    <!-- T12 - Leonardo Chavez: Header simple para auth -->
    <header class="auth-header">
      <div class="auth-header__container">
        <a href="index.html" class="auth-header__logo">
          <img
            src="./assets/images/minka-logo.png"
            alt="Mink'a"
            class="logo-image"
          />
        </a>
      </div>
    </header>

    <main class="auth-layout">
      <section class="auth-hero">
        <div class="auth-hero__content">
          <h1 data-i18n="auth_title">Ingresa a Mink'a</h1>
          <p>
            <span data-i18n="auth_subtitle"
              >Usa el usuario demo para probar la plataforma:</span
            >
            <strong>lucero.pipa@minka.com</strong> / <strong>Minka123</strong>.
          </p>
          <ul class="auth-hero__bullets">
            <li data-i18n="auth_bullet_login">Inicio de sesión</li>
            <li data-i18n="auth_bullet_register">Registro con validaciones</li>
            <li data-i18n="auth_bullet_recovery">Recuperación de contraseña</li>
          </ul>
        </div>
      </section>

      <section class="auth-panel" aria-label="Autenticación">
        <div class="auth-card" role="region" aria-live="polite">
          <div
            class="modal__tabs"
            role="tablist"
            aria-label="Selector de autenticación"
          >
            <button
              class="modal__tab modal__tab--active"
              type="button"
              role="tab"
              aria-selected="true"
              data-tab-target="login"
              id="auth-tab-login"
              data-i18n="auth_tab_login"
            >
              Iniciar Sesión
            </button>
            <button
              class="modal__tab"
              type="button"
              role="tab"
              aria-selected="false"
              data-tab-target="register"
              id="auth-tab-register"
              data-i18n="auth_tab_register"
            >
              Crear Cuenta
            </button>
            <button
              class="modal__tab"
              type="button"
              role="tab"
              aria-selected="false"
              data-tab-target="recovery"
              id="auth-tab-recovery"
              data-i18n="auth_tab_recovery"
            >
              Recuperar
            </button>
          </div>
          <p class="auth-card__subtitle" data-i18n="auth_card_subtitle">
            Valida tus datos y te redirigiremos al perfil demo.
          </p>

          <form
            class="auth-form"
            data-form="login"
            novalidate
            aria-labelledby="auth-tab-login"
          >
            <!-- T28 - Leonardo Chavez: Social Login (HU21) -->
            <div class="social-login">
              <button
                type="button"
                class="btn btn-social btn-google"
                onclick="simulateSocialLogin('Google')"
              >
                <i class="fab fa-google"></i>
                <span data-i18n="auth_social_google">Continuar con Google</span>
              </button>
              <button
                type="button"
                class="btn btn-social btn-facebook"
                onclick="simulateSocialLogin('Facebook')"
              >
                <i class="fab fa-facebook-f"></i>
                <span data-i18n="auth_social_facebook"
                  >Continuar con Facebook</span
                >
              </button>
            </div>
            <div class="auth-divider">
              <span data-i18n="auth_divider_email"
                >o ingresa con tu correo</span
              >
            </div>

            <div class="form__group">
              <label for="login-email" data-i18n="auth_label_email"
                >Correo electrónico</label
              >
              <input
                type="email"
                id="login-email"
                name="email"
                required
                placeholder="tu@correo.com"
                data-i18n="auth_placeholder_email"
              />
              <p class="form__error" data-error-for="login-email"></p>
            </div>
            <div class="form__group">
              <label for="login-password" data-i18n="auth_label_password"
                >Contraseña</label
              >
              <input
                type="password"
                id="login-password"
                name="password"
                required
                minlength="8"
              />
              <p class="form__error" data-error-for="login-password"></p>
            </div>
            <div class="form__row">
              <label class="form__checkbox">
                <input type="checkbox" name="remember" />
                <span data-i18n="auth_checkbox_remember"
                  >Mantener sesión activa</span
                >
              </label>
              <button
                type="button"
                class="form__link"
                data-switch-tab="recovery"
                data-i18n="auth_link_forgot"
              >
                ¿Olvidaste tu contraseña?
              </button>
            </div>
            <p class="form__hint">
              Usuario demo: lucero.pipa@minka.com · Minka123
            </p>
            <button
              type="submit"
              class="btn btn-primary btn-large"
              data-i18n="auth_btn_login"
            >
              Ingresar
            </button>
          </form>

          <form
            class="auth-form is-hidden"
            data-form="register"
            novalidate
            aria-labelledby="auth-tab-register"
          >
            <!-- T28 - Leonardo Chavez: Social Login (HU21) -->
            <div class="social-login">
              <button
                type="button"
                class="btn btn-social btn-google"
                onclick="simulateSocialLogin('Google')"
              >
                <i class="fab fa-google"></i>
                <span data-i18n="auth_social_google_reg"
                  >Registrarse con Google</span
                >
              </button>
              <button
                type="button"
                class="btn btn-social btn-facebook"
                onclick="simulateSocialLogin('Facebook')"
              >
                <i class="fab fa-facebook-f"></i>
                <span data-i18n="auth_social_facebook_reg"
                  >Registrarse con Facebook</span
                >
              </button>
            </div>
            <div class="auth-divider">
              <span data-i18n="auth_divider_form"
                >o completa el formulario</span
              >
            </div>

            <div class="form__group">
              <label for="register-name" data-i18n="auth_label_name"
                >Nombre completo</label
              >
              <input
                type="text"
                id="register-name"
                name="name"
                required
                minlength="3"
                placeholder="Tu nombre"
                data-i18n="auth_placeholder_name"
              />
              <p class="form__error" data-error-for="register-name"></p>
            </div>
            <div class="form__group">
              <label for="register-email" data-i18n="auth_label_email_phone"
                >Correo electrónico o teléfono</label
              >
              <input
                type="text"
                id="register-email"
                name="email"
                required
                placeholder="tu@correo.com o +51 987 654 321"
                data-i18n="auth_placeholder_email_phone"
              />
              <p class="form__error" data-error-for="register-email"></p>
            </div>
            <div class="form__group">
              <label for="register-password" data-i18n="auth_label_password_min"
                >Contraseña (mínimo 8 caracteres)</label
              >
              <input
                type="password"
                id="register-password"
                name="password"
                required
                minlength="8"
              />
              <div class="password-strength" id="password-strength">
                <div class="password-strength__bar">
                  <div class="password-strength__fill"></div>
                </div>
                <span class="password-strength__label"></span>
              </div>
              <p class="form__error" data-error-for="register-password"></p>
            </div>
            <div class="form__group">
              <label for="register-confirm" data-i18n="auth_label_confirm"
                >Confirmar contraseña</label
              >
              <input
                type="password"
                id="register-confirm"
                name="confirm"
                required
                minlength="8"
              />
              <p class="form__error" data-error-for="register-confirm"></p>
            </div>
            <label class="form__checkbox">
              <input type="checkbox" name="terms" required />
              <!-- T28 - Leonardo Chavez: Consentimiento Legal (HU22) -->
              <span
                ><span data-i18n="auth_terms_accept">Acepto los</span>
                <a
                  href="#"
                  onclick="alert('Términos y Condiciones simulados')"
                  data-i18n="auth_terms_link"
                  >Términos</a
                >
                <span data-i18n="auth_terms_and">y la</span>
                <a
                  href="#"
                  onclick="alert('Política de Privacidad simulada')"
                  data-i18n="auth_privacy_link"
                  >Política de Privacidad</a
                ></span
              >
            </label>
            <button
              type="submit"
              class="btn btn-primary btn-large"
              id="register-submit"
              disabled
              data-i18n="auth_btn_register"
            >
              Crear Cuenta
            </button>
          </form>

          <form
            class="auth-form is-hidden"
            data-form="recovery"
            novalidate
            aria-labelledby="auth-tab-recovery"
          >
            <div class="form__group">
              <label for="recovery-email" data-i18n="auth_label_email"
                >Correo electrónico</label
              >
              <input
                type="email"
                id="recovery-email"
                name="email"
                required
                placeholder="tu@correo.com"
                data-i18n="auth_placeholder_email"
              />
              <p class="form__error" data-error-for="recovery-email"></p>
            </div>
            <button
              type="submit"
              class="btn btn-primary btn-large"
              data-i18n="auth_btn_recovery"
            >
              Enviar instrucciones
            </button>
          </form>
        </div>
      </section>
    </main>

    <!-- Modal OTP para verificación -->
    <div class="modal-overlay" id="otp-modal" hidden>
      <div
        class="modal-dialog"
        role="dialog"
        aria-labelledby="otp-title"
        aria-modal="true"
      >
        <div class="modal-header">
          <h2 id="otp-title">Verificación de Cuenta</h2>
        </div>
        <div class="modal-body">
          <p>
            Hemos enviado un código de verificación a
            <strong id="otp-destination"></strong>
          </p>
          <p class="form__hint">
            Ingresa el código de 6 dígitos para verificar tu cuenta.
          </p>
          <div class="form__group">
            <label for="otp-input">Código OTP</label>
            <input
              type="text"
              id="otp-input"
              maxlength="6"
              pattern="[0-9]{6}"
              placeholder="123456"
              autocomplete="off"
            />
            <p class="form__error" id="otp-error"></p>
          </div>
          <p class="form__hint">Código de prueba: <strong>123456</strong></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="otp-cancel">
            Cancelar
          </button>
          <button type="button" class="btn btn-primary" id="otp-verify">
            Verificar
          </button>
        </div>
      </div>
    </div>

    <script src="./assets/scripts/pages/auth.js" defer></script>
  </body>
</html>
