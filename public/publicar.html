<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mink'a - Publicar Objeto</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <!-- Arquitectura CSS modular -->
    <link rel="stylesheet" href="./assets/styles/base.css" />
    <link rel="stylesheet" href="./assets/styles/components.css" />
    <link rel="stylesheet" href="./assets/styles/layout.css" />
    <link rel="stylesheet" href="./assets/styles/pages/home.css" />
    <link rel="stylesheet" href="./assets/styles/pages/publish.css" />
    <link rel="stylesheet" href="./assets/styles/responsive.css" />
    <!-- Scripts core -->
    <script defer src="./assets/scripts/core/components.js"></script>
    <script defer src="./assets/scripts/core/translations.js"></script>
    <script defer src="./assets/scripts/core/i18n.js"></script>
  </head>
  <body class="publish-page">
    <!-- Navegación generada por components.js -->
    <header id="app-header" class="auth-header"></header>

    <main class="publish-main">
      <!-- T14 - Ronel Rojas: Hero y contexto de publicación -->
      <section class="publish-hero">
        <div class="container">
          <div class="publish-hero__content">
            <h1 data-i18n="publish.title">Publica un objeto</h1>
            <p data-i18n="publish.subtitle">
              Completa los datos, sube fotos y te generamos un QR único para
              compartir tu publicación.
            </p>
          </div>
        </div>
      </section>

      <!-- T14 - Ronel Rojas: Formulario de publicación y QR -->
      <section class="publish-layout" aria-label="Formulario de publicación">
        <div class="container publish-grid">
          <form id="publish-form" class="publish-form" novalidate>
            <div class="card">
              <div class="card__header">
                <h2 data-i18n="publish.mainInfo.title">
                  Información principal
                </h2>
                <p data-i18n="publish.mainInfo.subtitle">
                  Define qué ofreces y en qué estado se encuentra.
                </p>
              </div>
              <div class="card__body">
                <div class="form__group">
                  <label for="item-title" data-i18n="publish.mainInfo.itemTitle"
                    >Título del objeto</label
                  >
                  <input
                    type="text"
                    id="item-title"
                    name="title"
                    placeholder="Ej. Bicicleta urbana vintage"
                    data-i18n-placeholder="publish.mainInfo.itemTitlePlaceholder"
                    required
                  />
                  <p class="form__error" data-error-for="item-title"></p>
                </div>

                <div class="form__row">
                  <div class="form__group">
                    <label
                      for="item-category"
                      data-i18n="publish.mainInfo.category"
                      >Categoría</label
                    >
                    <select id="item-category" name="category" required>
                      <option
                        value=""
                        data-i18n="publish.mainInfo.selectOption"
                      >
                        Selecciona una opción
                      </option>
                      <option
                        value="Ropa y accesorios"
                        data-i18n="publish.mainInfo.categories.clothing"
                      >
                        Ropa y accesorios
                      </option>
                      <option
                        value="Libros"
                        data-i18n="publish.mainInfo.categories.books"
                      >
                        Libros
                      </option>
                      <option
                        value="Electrónica"
                        data-i18n="publish.mainInfo.categories.electronics"
                      >
                        Electrónica
                      </option>
                      <option
                        value="Hogar"
                        data-i18n="publish.mainInfo.categories.home"
                      >
                        Hogar
                      </option>
                      <option
                        value="Servicios"
                        data-i18n="publish.mainInfo.categories.services"
                      >
                        Servicios
                      </option>
                      <option
                        value="Otros"
                        data-i18n="publish.mainInfo.categories.others"
                      >
                        Otros
                      </option>
                    </select>
                    <p class="form__error" data-error-for="item-category"></p>
                  </div>

                  <div class="form__group">
                    <label
                      for="item-condition"
                      data-i18n="publish.mainInfo.condition"
                      >Estado</label
                    >
                    <select id="item-condition" name="condition" required>
                      <option
                        value=""
                        data-i18n="publish.mainInfo.selectOption"
                      >
                        Selecciona una opción
                      </option>
                      <option
                        value="Nuevo"
                        data-i18n="publish.mainInfo.conditions.new"
                      >
                        Nuevo
                      </option>
                      <option
                        value="Como nuevo"
                        data-i18n="publish.mainInfo.conditions.likeNew"
                      >
                        Como nuevo
                      </option>
                      <option
                        value="Buen estado"
                        data-i18n="publish.mainInfo.conditions.good"
                      >
                        Buen estado
                      </option>
                      <option
                        value="Para reparar"
                        data-i18n="publish.mainInfo.conditions.repair"
                      >
                        Para reparar
                      </option>
                    </select>
                    <p class="form__error" data-error-for="item-condition"></p>
                  </div>
                </div>

                <div class="form__row">
                  <div class="form__group">
                    <label
                      for="item-status"
                      data-i18n="publish.mainInfo.pubStatus"
                      >Estado de la publicación</label
                    >
                    <select id="item-status" name="status">
                      <option
                        value="active"
                        data-i18n="publish.mainInfo.pubStatuses.active"
                      >
                        Activo
                      </option>
                      <option
                        value="paused"
                        data-i18n="publish.mainInfo.pubStatuses.paused"
                      >
                        Pausado
                      </option>
                      <option
                        value="reserved"
                        data-i18n="publish.mainInfo.pubStatuses.reserved"
                      >
                        Reservado
                      </option>
                    </select>
                    <p
                      class="form__hint"
                      data-i18n="publish.mainInfo.pauseHint"
                    >
                      Pausar oculta la publicación de búsquedas.
                    </p>
                  </div>
                  <div class="form__group form__group--inline">
                    <label
                      class="inline-label"
                      for="item-reserved"
                      data-i18n="publish.mainInfo.reserved"
                      >Reserva</label
                    >
                    <label class="switch">
                      <input type="checkbox" id="item-reserved" />
                      <span class="switch-slider"></span>
                    </label>
                    <p
                      class="form__hint"
                      data-i18n="publish.mainInfo.reservedHint"
                    >
                      Marca si ya tienes un interesado confirmado.
                    </p>
                  </div>
                </div>

                <div class="form__group" id="dynamic-fields" aria-live="polite">
                  <!-- Campos dinámicos por categoría -->
                </div>

                <div class="form__group">
                  <label
                    for="item-description"
                    data-i18n="publish.mainInfo.description"
                    >Descripción</label
                  >
                  <textarea
                    id="item-description"
                    name="description"
                    rows="4"
                    placeholder="Cuenta detalles, medidas, funcionamiento y qué buscas a cambio"
                    data-i18n-placeholder="publish.mainInfo.descriptionPlaceholder"
                    required
                  ></textarea>
                  <p class="form__error" data-error-for="item-description"></p>
                </div>

                <div class="form__group">
                  <label for="item-tags" data-i18n="publish.mainInfo.tags"
                    >Etiquetas</label
                  >
                  <input
                    type="text"
                    id="item-tags"
                    name="tags"
                    placeholder="ej. urbano, mujer, talla M, poco uso"
                    data-i18n-placeholder="publish.mainInfo.tagsPlaceholder"
                  />
                  <p class="form__hint" data-i18n="publish.mainInfo.tagsHint">
                    Separadas por coma · Mejora el hallazgo en búsquedas.
                  </p>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card__header">
                <h2 data-i18n="publish.location.title">Ubicación y entrega</h2>
                <p data-i18n="publish.location.subtitle">
                  Indica dónde está el objeto y cómo prefieres el intercambio.
                </p>
              </div>
              <div class="card__body">
                <div class="form__row">
                  <div class="form__group">
                    <label
                      for="item-location"
                      data-i18n="publish.location.district"
                      >Distrito / Ciudad</label
                    >
                    <input
                      type="text"
                      id="item-location"
                      name="location"
                      placeholder="Ej. Miraflores, Lima"
                      data-i18n-placeholder="publish.location.districtPlaceholder"
                      required
                    />
                    <p class="form__error" data-error-for="item-location"></p>
                  </div>
                  <div class="form__group">
                    <label
                      for="item-availability"
                      data-i18n="publish.location.availability"
                      >Disponibilidad</label
                    >
                    <select id="item-availability" name="availability" required>
                      <option
                        value=""
                        data-i18n="publish.mainInfo.selectOption"
                      >
                        Selecciona una opción
                      </option>
                      <option
                        value="Mañanas"
                        data-i18n="publish.location.availabilities.mornings"
                      >
                        Mañanas
                      </option>
                      <option
                        value="Tardes"
                        data-i18n="publish.location.availabilities.afternoons"
                      >
                        Tardes
                      </option>
                      <option
                        value="Noches"
                        data-i18n="publish.location.availabilities.nights"
                      >
                        Noches
                      </option>
                      <option
                        value="Fines de semana"
                        data-i18n="publish.location.availabilities.weekends"
                      >
                        Fines de semana
                      </option>
                    </select>
                    <p
                      class="form__error"
                      data-error-for="item-availability"
                    ></p>
                  </div>
                </div>

                <div class="form__row">
                  <div class="form__group">
                    <label data-i18n="publish.location.modality"
                      >Modalidad</label
                    >
                    <div
                      class="chip-group"
                      role="group"
                      aria-label="Modalidad de entrega"
                    >
                      <label class="chip">
                        <input
                          type="checkbox"
                          name="mode"
                          value="Recojo en persona"
                          checked
                        />
                        <span data-i18n="publish.location.modalities.pickup"
                          >Recojo en persona</span
                        >
                      </label>
                      <label class="chip">
                        <input
                          type="checkbox"
                          name="mode"
                          value="Envío coordinado"
                        />
                        <span data-i18n="publish.location.modalities.shipping"
                          >Envío coordinado</span
                        >
                      </label>
                    </div>
                  </div>
                  <div class="form__group">
                    <label for="item-notes" data-i18n="publish.location.notes"
                      >Notas para el encuentro</label
                    >
                    <textarea
                      id="item-notes"
                      name="notes"
                      rows="3"
                      placeholder="Punto de referencia, seguridad, horarios exactos"
                      data-i18n-placeholder="publish.location.notesPlaceholder"
                    ></textarea>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card__header">
                <h2 data-i18n="publish.photos.title">Fotos del objeto</h2>
                <p data-i18n="publish.photos.subtitle">
                  Sube hasta 5 fotos. Formatos JPG o PNG.
                </p>
              </div>
              <div class="card__body">
                <div class="upload-area">
                  <input
                    type="file"
                    id="item-photos"
                    name="photos"
                    accept="image/*"
                    multiple
                    aria-describedby="photo-help"
                  />
                  <label for="item-photos" class="upload-area__label">
                    <span
                      class="upload-area__title"
                      data-i18n="publish.photos.dragDrop"
                      >Arrastra o selecciona fotos</span
                    >
                    <span
                      class="upload-area__hint"
                      data-i18n="publish.photos.hint"
                      >Máximo 5 imágenes · 4MB c/u</span
                    >
                  </label>
                  <p
                    id="photo-help"
                    class="form__hint"
                    data-i18n="publish.photos.example"
                  >
                    Las fotos son de ejemplo.
                  </p>
                </div>
                <div
                  class="preview-grid"
                  id="photo-preview"
                  aria-live="polite"
                ></div>
              </div>
            </div>

            <div class="form__actions">
              <button
                type="button"
                class="btn btn-secondary"
                id="save-draft"
                data-i18n="publish.actions.saveDraft"
              >
                Guardar borrador
              </button>
              <button
                type="submit"
                class="btn btn-primary btn-large"
                id="generate-qr"
                data-i18n="publish.actions.publish"
              >
                Publicar
              </button>
            </div>
            <p
              class="form__success"
              id="form-success"
              role="status"
              aria-live="polite"
            ></p>
          </form>

          <aside class="publish-summary" aria-label="Resumen y QR">
            <div class="summary-card">
              <h3 data-i18n="publish.summary.title">Resumen rápido</h3>
              <ul class="summary-list">
                <li>
                  <strong data-i18n="publish.summary.itemTitle">Título:</strong>
                  <span id="summary-title">—</span>
                </li>
                <li>
                  <strong data-i18n="publish.summary.category"
                    >Categoría:</strong
                  >
                  <span id="summary-category">—</span>
                </li>
                <li>
                  <strong data-i18n="publish.summary.location"
                    >Ubicación:</strong
                  >
                  <span id="summary-location">—</span>
                </li>
                <li>
                  <strong data-i18n="publish.summary.availability"
                    >Disponibilidad:</strong
                  >
                  <span id="summary-availability">—</span>
                </li>
                <li>
                  <strong data-i18n="publish.summary.status">Estado:</strong>
                  <span id="summary-status">Activo</span>
                </li>
                <li>
                  <strong data-i18n="publish.summary.reserved">Reserva:</strong>
                  <span id="summary-reserved">No</span>
                </li>
              </ul>
              <p class="form__hint" data-i18n="publish.summary.qrHint">
                El QR se generará automáticamente al publicar.
              </p>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <script src="./assets/scripts/core/notif-badge.js" defer></script>
    <script src="./assets/scripts/pages/publish.js"></script>
  </body>
</html>
