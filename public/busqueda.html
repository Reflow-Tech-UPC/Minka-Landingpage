<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mink'a - Búsqueda y filtros</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="./assets/styles/styles.css" />
    <link rel="stylesheet" href="./assets/styles/home.css" />
    <link rel="stylesheet" href="./assets/styles/search.css" />
  </head>
  <body class="search-page">
    <!-- T15 - Andy Salcedo: Buscador con filtros de categoría, reputación y cercanía -->
    <header class="auth-header">
      <div class="auth-header__container">
        <a href="home.html" class="auth-header__logo" aria-label="Ir a inicio">
          <img
            src="./assets/images/minka-logo.png"
            alt="Mink'a"
            class="logo-image"
          />
        </a>
        <nav class="auth-header__nav" aria-label="Navegación principal">
          <a href="home.html" class="auth-header__link">Inicio</a>
          <a href="busqueda.html" class="auth-header__link" aria-current="page"
            >Buscar</a
          >
          <a href="publicar.html" class="auth-header__link">Publicar</a>
          <a href="chat.html" class="auth-header__link">Chats</a>
          <a href="notificaciones.html" class="auth-header__link">
            Notificaciones
            <span
              class="nav-badge"
              data-unread-badge
              aria-label="notificaciones no leídas"
              >0</span
            >
          </a>
          <a href="perfil.html" class="auth-header__link">Perfil</a>
          <a href="auth.html" class="auth-header__link">Salir</a>
        </nav>
      </div>
    </header>

    <main class="search-main">
      <section class="search-hero">
        <div class="container">
          <div class="search-hero__content">
            <h1>Busca y filtra trueques</h1>
            <p>Filtra por categoría, reputación y cercanía.</p>
          </div>
          <div class="search-bar" role="search">
            <input
              type="search"
              id="search-query"
              placeholder="Buscar por título, tags o distrito"
              aria-label="Buscar publicaciones"
            />
            <button type="button" class="btn btn-primary" id="search-btn">
              Buscar
            </button>
          </div>
        </div>
      </section>

      <section class="search-layout" aria-label="Resultados de búsqueda">
        <div class="container search-grid">
          <aside class="filters" aria-label="Filtros">
            <div class="filters__header">
              <h2>Filtros</h2>
              <button type="button" class="filters__reset" id="reset-filters">
                Limpiar
              </button>
            </div>

            <div class="filters__content">
              <div class="filter-group">
                <label for="filter-category">Categoría</label>
                <select id="filter-category">
                  <option value="">Todas</option>
                  <option value="Ropa y accesorios">Ropa y accesorios</option>
                  <option value="Libros">Libros</option>
                  <option value="Electrónica">Electrónica</option>
                  <option value="Hogar">Hogar</option>
                  <option value="Servicios">Servicios</option>
                  <option value="Otros">Otros</option>
                </select>
              </div>

              <div class="filter-group">
                <label for="filter-rating">Reputación mínima</label>
                <div class="range-wrapper">
                  <input
                    type="range"
                    id="filter-rating"
                    min="0"
                    max="5"
                    step="0.5"
                    value="0"
                  />
                  <div class="filter-group__hint">
                    <span id="filter-rating-value">0</span> estrellas o más
                  </div>
                </div>
              </div>

              <div class="filter-group">
                <label for="filter-distance">Cercanía</label>
                <div class="range-wrapper">
                  <input
                    type="range"
                    id="filter-distance"
                    min="1"
                    max="30"
                    step="1"
                    value="15"
                  />
                  <div class="filter-group__hint">
                    Hasta <span id="filter-distance-value">15</span> km
                  </div>
                </div>
              </div>

              <div class="filter-group">
                <label for="filter-sort">Ordenar por</label>
                <select id="filter-sort">
                  <option value="relevance">Relevancia</option>
                  <option value="distance">Menor distancia</option>
                  <option value="rating">Mayor reputación</option>
                </select>
              </div>
            </div>
          </aside>

          <div class="search-results-wrapper">
            <section class="results" aria-live="polite">
              <div class="results__header">
                <h2>Resultados</h2>
                <p id="results-count">0 resultados</p>
              </div>
              <div class="results__grid" id="results-list"></div>
            </section>

            <aside class="map-panel" aria-label="Mapa de cercanía">
              <div class="map-panel__header">
                <h3>Mapa</h3>
                <p>
                  Se muestran los distritos de referencia según la distancia.
                </p>
              </div>
              <div class="map-panel__body">
                <img
                  src="./assets/images/mapa-ejemplo-minka.png"
                  alt="Mapa referencial"
                  class="map-panel__image"
                  loading="lazy"
                />
              </div>
            </aside>
          </div>
        </div>
      </section>
    </main>

    <script src="./assets/scripts/notif-badge.js" defer></script>
    <script src="./assets/scripts/search.js"></script>
  </body>
</html>
