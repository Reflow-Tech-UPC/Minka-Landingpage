<!DOCTYPE html>
<!-- 
  Tarea: T24 
  Responsable: Lucero Pipa 
  Descripción: Implementación de sistema de puntos, ranking y catálogo de canjes. 
-->
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mink'a - Eco-Puntos y Gamificación</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="./assets/styles/styles.css" />
    <link rel="stylesheet" href="./assets/styles/gamification.css" />
  </head>
  <body class="gamification-page">
    <!-- T24 - Lucero Pipa: Header de navegación principal -->
    <header class="auth-header">
      <div class="auth-header__container">
        <a href="home.html" class="auth-header__logo" aria-label="Ir a inicio">
          <img
            src="./assets/images/minka-logo.png"
            alt="Mink'a"
            class="logo-image"
          />
        </a>
        <nav class="auth-header__nav" aria-label="Navegación principal">
          <a href="home.html" class="auth-header__link">Inicio</a>
          <a href="busqueda.html" class="auth-header__link">Buscar</a>
          <a href="publicar.html" class="auth-header__link">Publicar</a>
          <a href="chat.html" class="auth-header__link">Chats</a>
          <a href="notificaciones.html" class="auth-header__link">
            Notificaciones
            <span
              class="nav-badge"
              data-unread-badge
              aria-label="notificaciones no leídas"
              >0</span
            >
          </a>
          <a href="perfil.html" class="auth-header__link">Perfil</a>
          <a href="auth.html" class="auth-header__link">Salir</a>
        </nav>
      </div>
    </header>

    <main class="gamification-main">
      <div class="container">
        <!-- T24 - Lucero Pipa: Sección de Resumen de Puntos -->
        <section class="gamification-header">
          <div class="points-summary">
            <h1>Mis Eco-Puntos</h1>
            <div class="points-display">
              <span class="points-value" id="user-points">0</span>
              <span class="points-label">pts</span>
            </div>
            <p class="points-level">
              Nivel: <span id="user-level">Novato</span>
            </p>
          </div>
          <div class="badges-summary">
            <h3>Mis Insignias</h3>
            <div class="badges-grid" id="user-badges">
              <!-- Badges will be injected here -->
            </div>
          </div>
        </section>

        <!-- T24 - Lucero Pipa: Navegación de Pestañas -->
        <div class="gamification-tabs">
          <button class="tab-btn active" data-tab="earn">Ganar Puntos</button>
          <button class="tab-btn" data-tab="redeem">Canjear</button>
          <button class="tab-btn" data-tab="ranking">Ranking</button>
          <button class="tab-btn" data-tab="history">Historial</button>
        </div>

        <!-- T24 - Lucero Pipa: Contenido de Pestañas -->
        <div class="tab-content active" id="earn">
          <h2>¿Cómo ganar Eco-Puntos?</h2>
          <div class="earn-table-container">
            <table class="earn-table">
              <thead>
                <tr>
                  <th>Acción</th>
                  <th>Puntos</th>
                  <th>Frecuencia</th>
                </tr>
              </thead>
              <tbody id="earn-actions-body">
                <!-- Actions injected via JS -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="tab-content" id="redeem">
          <h2>Catálogo de Recompensas</h2>
          <p>Canjea tus puntos por beneficios exclusivos.</p>
          <div class="rewards-grid" id="rewards-catalog">
            <!-- Rewards injected via JS -->
          </div>
        </div>

        <div class="tab-content" id="ranking">
          <div class="ranking-header">
            <h2>Ranking Barrial</h2>
            <div class="ranking-controls">
              <label>
                <input type="checkbox" id="opt-out-ranking" /> No aparecer en
                rankings públicos
              </label>
            </div>
          </div>
          <div class="ranking-list" id="ranking-list">
            <!-- Ranking injected via JS -->
          </div>
        </div>

        <div class="tab-content" id="history">
          <h2>Historial de Puntos</h2>
          <ul class="history-list" id="points-history">
            <!-- History injected via JS -->
          </ul>
        </div>
      </div>
    </main>

    <script src="./assets/scripts/notif-badge.js"></script>
    <script src="./assets/scripts/gamification.js"></script>
  </body>
</html>
